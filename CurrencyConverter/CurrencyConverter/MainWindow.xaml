<Window x:Class="CurrencyConverter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:CurrencyConverter"
        mc:Ignorable="d"
        Title="Currency Converter" Height="420" Width="850"
        WindowStartupLocation="CenterScreen" ResizeMode="CanMinimize">

    <Window.Resources>
        <!-- Анімований фон з символами валют -->
        <VisualBrush x:Key="CurrencyPatternBrush" TileMode="Tile" Viewport="0,0,180,180" ViewportUnits="Absolute" Opacity="0.3">
            <VisualBrush.Visual>
                <Grid Width="180" Height="180" Background="Transparent">
                    <TextBlock Text="$" FontSize="70" FontWeight="Bold" Foreground="#DD1100" Margin="15,15,0,0" RenderTransformOrigin="0.5,0.5">
                        <TextBlock.RenderTransform>
                            <RotateTransform Angle="-20"/>
                        </TextBlock.RenderTransform>
                    </TextBlock>
                    <TextBlock Text="€" FontSize="55" FontWeight="Bold" Foreground="#FF3300" HorizontalAlignment="Right" VerticalAlignment="Bottom" Margin="0,0,25,25" RenderTransformOrigin="0.5,0.5">
                        <TextBlock.RenderTransform>
                            <RotateTransform Angle="25"/>
                        </TextBlock.RenderTransform>
                    </TextBlock>
                    <TextBlock Text="₴" FontSize="45" FontWeight="Bold" Foreground="#FF5500" HorizontalAlignment="Center" VerticalAlignment="Center" RenderTransformOrigin="0.5,0.5">
                        <TextBlock.RenderTransform>
                            <RotateTransform Angle="-10"/>
                        </TextBlock.RenderTransform>
                    </TextBlock>
                </Grid>
            </VisualBrush.Visual>
        </VisualBrush>

        <!-- Стиль для заголовків -->
        <Style x:Key="HeaderStyle" TargetType="TextBlock">
            <Setter Property="Foreground">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                        <GradientStop Color="#FFFFFF" Offset="0"/>
                        <GradientStop Color="#FFAA88" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Margin" Value="0,15,0,8"/>
        </Style>

        <!-- Стиль для TextBox з анімацією -->
        <Style x:Key="AnimatedTextBox" TargetType="TextBox">
            <Setter Property="Height" Value="45"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Background" Value="#2A2A2A"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#FF4400"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="CaretBrush" Value="#FF6600"/>
            <Style.Triggers>
                <Trigger Property="IsFocused" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation Storyboard.TargetProperty="(TextBox.BorderBrush).(SolidColorBrush.Color)" 
                                              To="#FF8800" Duration="0:0:0.3"/>
                                <ThicknessAnimation Storyboard.TargetProperty="BorderThickness" 
                                                  To="3" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                    <Trigger.ExitActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation Storyboard.TargetProperty="(TextBox.BorderBrush).(SolidColorBrush.Color)" 
                                              To="#FF4400" Duration="0:0:0.3"/>
                                <ThicknessAnimation Storyboard.TargetProperty="BorderThickness" 
                                                  To="2" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.ExitActions>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для ComboBox -->
        <Style x:Key="AnimatedComboBox" TargetType="ComboBox">
            <Setter Property="Height" Value="45"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Background" Value="#1A1A1A"/>
            <Setter Property="Foreground" Value="#FF3333"/>
            <Setter Property="BorderBrush" Value="#FF4400"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Style.Triggers>
                <Trigger Property="IsMouseOver" Value="True">
                    <Trigger.EnterActions>
                        <BeginStoryboard>
                            <Storyboard>
                                <ColorAnimation Storyboard.TargetProperty="(ComboBox.BorderBrush).(SolidColorBrush.Color)" 
                                              To="#FF8800" Duration="0:0:0.2"/>
                            </Storyboard>
                        </BeginStoryboard>
                    </Trigger.EnterActions>
                </Trigger>
            </Style.Triggers>
        </Style>

        <!-- Стиль для ComboBoxItem -->
        <Style x:Key="ComboBoxItemStyle" TargetType="ComboBoxItem">
            <Setter Property="Foreground" Value="#FF3333"/>
            <Setter Property="Background" Value="#0A0A0A"/>
            <Setter Property="Padding" Value="12,10"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBoxItem">
                        <Border x:Name="ItemBorder" 
                                Background="{TemplateBinding Background}"
                                Padding="{TemplateBinding Padding}"
                                BorderThickness="0,0,0,1"
                                BorderBrush="#222222">
                            <ContentPresenter/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsHighlighted" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="#33FFFFFF"/>
                                <Setter Property="Foreground" Value="#FF5555"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter TargetName="ItemBorder" Property="Background" Value="#1A1A1A"/>
                                <Setter Property="Foreground" Value="#FF6666"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Стиль для кнопки з анімацією -->
        <Style x:Key="AnimatedButton" TargetType="Button">
            <Setter Property="Height" Value="55"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#DD0000" Offset="0"/>
                        <GradientStop Color="#FF4400" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}" 
                                CornerRadius="12" BorderThickness="3" BorderBrush="Transparent">
                            <Border.Effect>
                                <DropShadowEffect Color="#FF4400" BlurRadius="15" ShadowDepth="0" Opacity="0.7"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="border" 
                                                          Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" 
                                                          To="#FFAA00" Duration="0:0:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="border"
                                                           Storyboard.TargetProperty="(Border.Effect).(DropShadowEffect.BlurRadius)"
                                                           To="25" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ColorAnimation Storyboard.TargetName="border" 
                                                          Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)" 
                                                          To="Transparent" Duration="0:0:0.2"/>
                                            <DoubleAnimation Storyboard.TargetName="border"
                                                           Storyboard.TargetProperty="(Border.Effect).(DropShadowEffect.BlurRadius)"
                                                           To="15" Duration="0:0:0.2"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="RenderTransform">
                                    <Setter.Value>
                                        <ScaleTransform ScaleX="0.95" ScaleY="0.95"/>
                                    </Setter.Value>
                                </Setter>
                                <Setter TargetName="border" Property="RenderTransformOrigin" Value="0.5,0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <!-- Базовий чорний фон -->
        <Grid Background="#0A0A0A"/>

        <!-- Анімований градієнт фону -->
        <Grid>
            <Grid.Background>
                <RadialGradientBrush GradientOrigin="0.3,0.3">
                    <GradientStop Color="#22110000" Offset="0"/>
                    <GradientStop Color="#0A0A0A" Offset="1"/>
                </RadialGradientBrush>
            </Grid.Background>
        </Grid>

        <!-- Фон з символами валют -->
        <Grid Background="{StaticResource CurrencyPatternBrush}"/>

        <!-- Додатковий градієнт для глибини -->
        <Grid>
            <Grid.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                    <GradientStop Color="#11FF2200" Offset="0"/>
                    <GradientStop Color="Transparent" Offset="0.5"/>
                    <GradientStop Color="#11110000" Offset="1"/>
                </LinearGradientBrush>
            </Grid.Background>
        </Grid>

        <!-- ЗАСТАВКА (Splash Screen) -->
        <Grid x:Name="SplashScreen" Visibility="Visible">
            <Border Background="#DD1A1A1A" 
                    BorderThickness="2" 
                    CornerRadius="20" 
                    Padding="50" 
                    HorizontalAlignment="Center" 
                    VerticalAlignment="Center" 
                    Width="600"
                    Height="350"
                    RenderTransformOrigin="0.5,0.5">
                <Border.RenderTransform>
                    <ScaleTransform x:Name="SplashScaleTransform" ScaleX="1" ScaleY="1"/>
                </Border.RenderTransform>
                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FF4400" Offset="0"/>
                        <GradientStop Color="#DD0000" Offset="0.5"/>
                        <GradientStop Color="#FF4400" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
                <Border.Effect>
                    <DropShadowEffect Color="#FF2200" BlurRadius="40" ShadowDepth="0" Opacity="0.8"/>
                </Border.Effect>

                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <!-- Заголовок -->
                    <TextBlock Text="💰 Ласкаво просимо! 💰" 
                               FontSize="36" 
                               FontWeight="Bold" 
                               HorizontalAlignment="Center"
                               Margin="0,0,0,20"
                               TextAlignment="Center">
                        <TextBlock.Foreground>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#FFFFFF" Offset="0"/>
                                <GradientStop Color="#FFCC88" Offset="0.5"/>
                                <GradientStop Color="#FFFFFF" Offset="1"/>
                            </LinearGradientBrush>
                        </TextBlock.Foreground>
                        <TextBlock.Effect>
                            <DropShadowEffect Color="#FF4400" BlurRadius="15" ShadowDepth="0" Opacity="0.9"/>
                        </TextBlock.Effect>
                    </TextBlock>

                    <!-- Підзаголовок -->
                    <TextBlock Text="Конвертер валют" 
                               FontSize="18" 
                               FontWeight="SemiBold"
                               Foreground="#FFCCAA"
                               HorizontalAlignment="Center"
                               Margin="0,0,0,50"
                               TextAlignment="Center"/>

                    <!-- Кнопка Почати -->
                    <Button Content="🚀 ПОЧАТИ" 
                            Style="{StaticResource AnimatedButton}"
                            Width="300"
                            Height="65"
                            FontSize="24"
                            Click="StartButton_Click"/>
                </StackPanel>
            </Border>

            <Grid.Triggers>
                <EventTrigger RoutedEvent="Grid.Loaded">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation Storyboard.TargetName="SplashScaleTransform" 
                                           Storyboard.TargetProperty="ScaleX"
                                           From="0.7" To="1" Duration="0:0:0.6">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseOut" Amplitude="0.4"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation Storyboard.TargetName="SplashScaleTransform" 
                                           Storyboard.TargetProperty="ScaleY"
                                           From="0.7" To="1" Duration="0:0:0.6">
                                <DoubleAnimation.EasingFunction>
                                    <BackEase EasingMode="EaseOut" Amplitude="0.4"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Grid.Triggers>
        </Grid>

        <!-- ГОЛОВНИЙ КОНТЕНТ (спочатку прихований) -->
        <Border x:Name="MainBorder" 
                Visibility="Collapsed"
                Background="#DD1A1A1A" 
                BorderThickness="2" 
                CornerRadius="20" 
                Padding="35,30" 
                HorizontalAlignment="Center" 
                VerticalAlignment="Center" 
                Width="780"
                RenderTransformOrigin="0.5,0.5">
            <Border.RenderTransform>
                <ScaleTransform x:Name="MainScaleTransform" ScaleX="1" ScaleY="1"/>
            </Border.RenderTransform>
            <Border.BorderBrush>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FF4400" Offset="0"/>
                    <GradientStop Color="#DD0000" Offset="0.5"/>
                    <GradientStop Color="#FF4400" Offset="1"/>
                </LinearGradientBrush>
            </Border.BorderBrush>
            <Border.Effect>
                <DropShadowEffect Color="#FF2200" BlurRadius="30" ShadowDepth="0" Opacity="0.6"/>
            </Border.Effect>

            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- Заголовок -->
                <Border Grid.Row="0" CornerRadius="10" Padding="15,10" Margin="0,0,0,25">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                            <GradientStop Color="#33FF4400" Offset="0"/>
                            <GradientStop Color="#33DD0000" Offset="0.5"/>
                            <GradientStop Color="#33FF4400" Offset="1"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <TextBlock Text="💰 КОНВЕРТЕР ВАЛЮТ 💰" 
                               FontSize="24" 
                               FontWeight="Bold" 
                               HorizontalAlignment="Center">
                        <TextBlock.Foreground>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#FFFFFF" Offset="0"/>
                                <GradientStop Color="#FFCC88" Offset="0.5"/>
                                <GradientStop Color="#FFFFFF" Offset="1"/>
                            </LinearGradientBrush>
                        </TextBlock.Foreground>
                        <TextBlock.Effect>
                            <DropShadowEffect Color="#FF4400" BlurRadius="12" ShadowDepth="0" Opacity="0.8"/>
                        </TextBlock.Effect>
                    </TextBlock>
                </Border>

                <!-- Горизонтальний блок з полями -->
                <Grid Grid.Row="1" Margin="0,0,0,20">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Сума -->
                    <StackPanel Grid.Column="0">
                        <TextBlock Text="💵 Сума:" Style="{StaticResource HeaderStyle}" Margin="0,0,0,8"/>
                        <Border CornerRadius="8">
                            <Border.Effect>
                                <DropShadowEffect Color="#FF2200" BlurRadius="8" ShadowDepth="0" Opacity="0.3"/>
                            </Border.Effect>
                            <TextBox x:Name="InputAmount" 
                                     Style="{StaticResource AnimatedTextBox}"
                                     PreviewTextInput="InputAmount_PreviewTextInput"
                                     Text="100"/>
                        </Border>
                    </StackPanel>

                    <!-- З валюти -->
                    <StackPanel Grid.Column="2">
                        <TextBlock Text="🌍 З валюти:" Style="{StaticResource HeaderStyle}" Margin="0,0,0,8"/>
                        <Border CornerRadius="8">
                            <Border.Effect>
                                <DropShadowEffect Color="#FF2200" BlurRadius="8" ShadowDepth="0" Opacity="0.3"/>
                            </Border.Effect>
                            <ComboBox x:Name="FromCurrencySelector" 
                                      Style="{StaticResource AnimatedComboBox}" 
                                      ItemContainerStyle="{StaticResource ComboBoxItemStyle}"
                                      SelectedIndex="0">
                                <ComboBoxItem Content="UAH - Гривня"/>
                                <ComboBoxItem Content="USD - Долар"/>
                                <ComboBoxItem Content="EUR - Євро"/>
                                <ComboBoxItem Content="GBP - Фунт"/>
                                <ComboBoxItem Content="PLN - Злотий"/>
                            </ComboBox>
                        </Border>
                    </StackPanel>

                    <!-- В валюту -->
                    <StackPanel Grid.Column="4">
                        <TextBlock Text="💱 В валюту:" Style="{StaticResource HeaderStyle}" Margin="0,0,0,8"/>
                        <Border CornerRadius="8">
                            <Border.Effect>
                                <DropShadowEffect Color="#FF2200" BlurRadius="8" ShadowDepth="0" Opacity="0.3"/>
                            </Border.Effect>
                            <ComboBox x:Name="ToCurrencySelector" 
                                      Style="{StaticResource AnimatedComboBox}"
                                      ItemContainerStyle="{StaticResource ComboBoxItemStyle}"
                                      SelectedIndex="1">
                                <ComboBoxItem Content="UAH - Гривня"/>
                                <ComboBoxItem Content="USD - Долар"/>
                                <ComboBoxItem Content="EUR - Євро"/>
                                <ComboBoxItem Content="GBP - Фунт"/>
                                <ComboBoxItem Content="PLN - Злотий"/>
                            </ComboBox>
                        </Border>
                    </StackPanel>
                </Grid>

                <!-- Кнопка та результат -->
                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="1.2*"/>
                        <ColumnDefinition Width="15"/>
                        <ColumnDefinition Width="1.5*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Кнопка конвертації -->
                    <Button Grid.Column="0"
                            Content="⚡ КОНВЕРТУВАТИ" 
                            Style="{StaticResource AnimatedButton}"
                            Click="Button_Click"/>

                    <!-- Результат -->
                    <Border Grid.Column="2"
                            CornerRadius="12" 
                            Padding="15" 
                            Background="#222222"
                            BorderThickness="2">
                        <Border.BorderBrush>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                <GradientStop Color="#FF8800" Offset="0"/>
                                <GradientStop Color="#FFAA00" Offset="1"/>
                            </LinearGradientBrush>
                        </Border.BorderBrush>
                        <Border.Effect>
                            <DropShadowEffect Color="#FF6600" BlurRadius="10" ShadowDepth="0" Opacity="0.5"/>
                        </Border.Effect>
                        <TextBlock x:Name="ResultText" 
                                   Text="Результат: 0.00" 
                                   FontSize="18" 
                                   FontWeight="Bold" 
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   TextAlignment="Center"
                                   TextWrapping="Wrap">
                            <TextBlock.Foreground>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                    <GradientStop Color="#FFEEEE" Offset="0"/>
                                    <GradientStop Color="#FFCC88" Offset="0.5"/>
                                    <GradientStop Color="#FFEEEE" Offset="1"/>
                                </LinearGradientBrush>
                            </TextBlock.Foreground>
                        </TextBlock>
                    </Border>
                </Grid>

                <!-- Статус оновлення курсів -->
                <TextBlock Grid.Row="3"
                           x:Name="StatusText"
                           Text="Завантаження курсів..."
                           FontSize="11"
                           Foreground="#888888"
                           HorizontalAlignment="Center"
                           Margin="0,15,0,0"
                           TextWrapping="Wrap"
                           TextAlignment="Center"/>
            </Grid>
        </Border>
    </Grid>
</Window>